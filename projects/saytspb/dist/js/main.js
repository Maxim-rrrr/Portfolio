$(document).ready(function(){(new WOW).init(),$("[type=tel]").mask("+7 (000) 000-00-00");var e=$(".button-wrapper"),a=$(".wrapper");e.on("click",function(){a.toggleClass("wrapper--active")}),window.addEventListener("scroll",function(){$(".menu").innerHTML=pageYOffset,pageYOffset>0?$(".menu").addClass("menu--scroll"):$(".menu").removeClass("menu--scroll")}),window.addEventListener("scroll",function(){$(".back-to-top").innerHTML=pageYOffset,pageYOffset>500?$(".back-to-top").addClass("back-to-top--scroll"):$(".back-to-top").removeClass("back-to-top--scroll")});var s=$(".modal");$("[data-toggle=modal]").on("click",function(){s.toggleClass("modal--visible")}),s.on("click",function(){"modal modal--visible"===event.target.className&&s.removeClass("modal--visible")}),window.addEventListener("keydown",function(e){27==e.keyCode&&(s.removeClass("modal--visible"),o.removeClass("modal--visible"))},!0);var o=$(".modal-thanks");function t(e){e.target.playVideo()}o.on("click",function(){"modal-thanks modal--visible"===event.target.className&&o.removeClass("modal--visible")}),$(".modal__form").validate({rules:{modalName:{required:!0,minlength:2,maxlength:15},modalPhone:{required:!0,minlength:18}},errorClass:"invalid",messages:{modalName:{required:"Имя обязательно",minlength:"Длина имени 2-15 символов",maxlength:"Длина имени 2-15 символов"},modalPhone:{required:"Телефон обязательно",minlength:"Введите телефон полностью"}},submitHandler:function(e){$.ajax({type:"POST",url:"send.php",data:$(e).serialize(),success:function(a){console.log("Ajax сработал, ответ с сервера",a),$(e)[0].reset(),s.removeClass("modal--visible"),o.toggleClass("modal--visible"),ym(61578889,"reachGoal","call")}})}}),$(".cost__form").validate({rules:{costName:{required:!0,minlength:2,maxlength:15},costEmail:{required:!0,email:!0},costAddress:{required:!0},costMessage:{required:!0}},errorClass:"invalid",messages:{costName:{required:"Имя обязательно",minlength:"Длина имени 2-15 символов",maxlength:"Длина имени 2-15 символов"},costEmail:{required:"E-mail обязательно",email:"Введите в формате: name@domain.com"},costAddress:{required:"Напишите адрес сайта"},costMessage:{required:"Нашишите сообшение"}},submitHandler:function(e){$.ajax({type:"POST",url:"send.php",data:$(e).serialize(),success:function(a){console.log("Ajax сработал, ответ с сервера",a),$(e)[0].reset(),o.toggleClass("modal--visible"),ym(61578889,"reachGoal","cost")}})}}),$(".contacts__form").validate({rules:{contactsName:{required:!0,minlength:2,maxlength:15},contactsEmail:{required:!0,email:!0},contactsPhone:{required:!0,minlength:18},contactsMessage:{required:!0}},errorClass:"invalid",messages:{contactsName:{required:"Имя обязательно",minlength:"Длина имени 2-15 символов",maxlength:"Длина имени 2-15 символов"},contactsEmail:{required:"E-mail обязательно",email:"Введите в формате: name@domain.com"},contactsPhone:{required:"Телефон обязательно",minlength:"Введите телефон полностью"},contactsMessage:{required:"Нашишите сообшение"}},submitHandler:function(e){$.ajax({type:"POST",url:"send.php",data:$(e).serialize(),success:function(a){console.log("Ajax сработал, ответ с сервера",a),$(e)[0].reset(),o.toggleClass("modal--visible"),ym(61578889,"reachGoal","question")}})}}),$(".figures__video-play").on("click",function(){new YT.Player("figuresPlayer",{height:"465",width:"100%",videoId:"3wPeND2gvqc",events:{onReady:t}}),$(".figures__card").addClass("figures__card--video-active"),$(".hero").addClass("hero--video-active")});new Swiper(".cases__swiper-container",{loop:!0,navigation:{prevEl:".cases__swiper-button-prev",nextEl:".cases__swiper-button-next"}}),new Swiper(".reviews__swiper-container",{loop:!0,navigation:{prevEl:".reviews__swiper-button-prev",nextEl:".reviews__swiper-button-next"}}),new Swiper(".news__swiper-container",{loop:!0,navigation:{prevEl:".news__swiper-button-prev",nextEl:".news__swiper-button-next"}});jQuery(function(e){e('a[href*="#"]').on("click.smoothscroll",function(a){var s=this.hash,o=s.replace(/#/,""),t=e(this).attr("href").replace(/#.*/,"");if(!t||location.href.replace(/#.*/,"")==t){var n=""===o?e("body"):e(s+', a[id="'+o+'"]').first();n.length&&(a.preventDefault(),e("html, body").stop().animate({scrollTop:n.offset().top-0},400,"swing",function(){window.location.hash=s}))}})})});